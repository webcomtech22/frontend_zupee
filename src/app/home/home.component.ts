import { Component, OnInit } from '@angular/core';
import { FormBuilder } from '@angular/forms';
import { DataService } from '../data.service';

@Component({
  selector: 'app-home',
  templateUrl: './home.component.html',
  styleUrls: ['./home.component.css']
})
export class HomeComponent implements OnInit{
  path:any = "http://localhost:3000/uploads/";
  id:any = 1;
  bannerData:any;
  ourGamesData:any;
  moneyGamesData:any;
  ratingImageData:any;
  reviewsData:any;
  videoData:any;
  queansData:any;
  zupeeMemberData:any;
  footerCustomData:any;
  faqs: any[] = [];

  constructor(private dataService:DataService,private formBuilder:FormBuilder) {  }

  ngOnInit(){
    this.getZupeeBanner();
    this.getOurGames();
    this.getMoneyGames();
    this.getRatingImage();
    this.getReviews();
    this.getVideo();
    this.getQueAns();
    this.getZupeeMember();
    this.getFooterCustom();
  }

  questions=[
    {question:"Where can I play money winning games?",answer:"There are several online games where you can win cash. One way is through the Zupee money winning app. It is a mobile gaming app that allows users to play various games for real cash like Ludo, Snakes & Ladders, Trump Cards, and Tambola.  So, what are you waiting for? Play & put your skills to the test by competing for real cash on Zupee money app.",opened:false},
    {question:"Is it safe to play real money games on Zupee?",answer:"Yes, it is absolutely safe and legal to play real money games on Zupee. Download the Zupee money game app (Android APK/iOS) and play online cash games like Ludo, and Trump cards.",opened:false },
    {question:"Can I play online cash games and win real money on Zupee?",answer:"Yes. You can win actual cash by playing online cash games on Zupee. You can choose from multiple games based on your skills and win up to 10 lakhs. Instant withdrawal using various payment methods like bank transfer or UPI (Paytm, PhonePe, Google Pay) is available.",opened:false },
    {question:"Can I withdraw cash from money winning apps?",answer:"Yes. You can withdraw real cash from money winning apps like Zupee. Zupee offers instant and safe cash withdrawals from your wallet using UPI or a Bank account.",opened:false },
    {question:"Is it safe to add money to the online games wallet?",answer:"Yes, adding money to your game wallet is safe. Zupee has partnerships with the industry’s best, who ensure smooth and safe money transactions. You can add money using UPI, Bank account, Wallets, or Debit/Credit cards.",opened:false },
    {question:"How do online real cash games ensure fair play?",answer:"There are many ways in which the online money games on Zupee ensure fair play. One such measure is to get RNG certified. RNG certification ensures statistical randomness in the numbers generated by the elements like the dice in the game.",opened:false },
    {question:"How do online money games in India work?",answer:"To play real cash games on Zupee, players add money to their wallets and choose the tournament they would like to play. Once the tournament has enough people, the game begins. There are multiple formats to choose from based on a person’s interest and risk appetite. Every game has a prize pot that gets distributed at the end of the game based on the format one chooses to play. Players can instantly withdraw their cash winnings anytime. Learn about the pros of playing real cash games online. ",opened:false },
   ];

   

  //banner
   getZupeeBanner(){
    console.log(this.id)
      this.dataService.getZupeeBannerData(this.id).subscribe((res)=>{
        this.bannerData = res;
        console.log(this.bannerData)
      })
   }
   
  //our games
   getOurGames(){
    this.dataService.getOurGamesData().subscribe((res)=>{
      this.ourGamesData = res;
      console.log(this.ourGamesData)
    })
   }

   getMoneyGames(){
    this.dataService.getMoneyGamesData().subscribe((res)=>{
      this.moneyGamesData = res;
      console.log(this.moneyGamesData)
    })
   }

   getRatingImage(){
    this.dataService.getRatingImageData(this.id).subscribe((res)=>{
      this.ratingImageData = res;
      console.log(this.ratingImageData)
    })
   }

   getReviews(){
    this.dataService.getReviewsData().subscribe((res)=>{
      this.reviewsData = res;
      console.log(this.reviewsData)
    })
   }

   getReviewGroups(){
    const reviewGroups = [];
    for (let i = 0; i < this.reviewsData.length; i += 3){
      reviewGroups.push(this.reviewsData.slice(i, i + 3));
    }
    return reviewGroups
  }

  getReviewGroups2(){
    const reviewGroups = [];
    for (let i = 0; i < this.reviewsData.length; i += 1){
      reviewGroups.push(this.reviewsData.slice(i, i + 1));
    }
    return reviewGroups
  }

  getVideo(){
    this.dataService.getVideoData(this.id).subscribe((res)=>{
      this.videoData = res;
      console.log(this.videoData)
    })
  }
  
  toggleAns(question:any){
    console.log('Toggling answer for:', question.question);
    question.opened = !question.opened;
    console.log('New opened state:', question.opened);
     }
  getQueAns(){
    this.dataService.getQueAnsData().subscribe((res)=>{
      this.queansData = res;
      console.log(this.queansData)
    })
  }

  getZupeeMember(){
    this.dataService.getZupeeMemberData().subscribe((res)=>{
      this.zupeeMemberData = res;
      console.log(this.zupeeMemberData)
    })
   }

   getFooterCustom(){
    this.dataService.getFooterCustomData(this.id).subscribe((res)=>{
      this.footerCustomData = res;
      console.log(this.footerCustomData)
    })
   }
}
